<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API文档 - AI彩票预测系统 V4.0</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet">
    
    <style>
        :root {
            --primary-color: #6366f1;
            --success-color: #10b981;
            --warning-color: #f59e0b;
            --danger-color: #ef4444;
        }
        
        .sidebar {
            position: sticky;
            top: 100px;
            height: calc(100vh - 120px);
            overflow-y: auto;
        }
        
        .content-section {
            padding: 80px 0 40px;
        }
        
        .code-block {
            background: #1a1a1a;
            color: #f8f8f2;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            overflow-x: auto;
        }
        
        .api-method {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.8rem;
            font-weight: bold;
            color: white;
        }
        
        .method-get { background-color: var(--success-color); }
        .method-post { background-color: var(--primary-color); }
        .method-put { background-color: var(--warning-color); }
        .method-delete { background-color: var(--danger-color); }
        
        .parameter-table {
            font-size: 0.9rem;
        }
        
        .response-example {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid var(--primary-color);
        }
        
        .endpoint-card {
            border: 1px solid #e5e7eb;
            border-radius: 10px;
            margin-bottom: 30px;
            overflow: hidden;
        }
        
        .endpoint-header {
            background: #f9fafb;
            padding: 20px;
            border-bottom: 1px solid #e5e7eb;
        }
        
        .endpoint-body {
            padding: 20px;
        }
    </style>
</head>
<body>
    <!-- 导航栏 -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top">
        <div class="container">
            <a class="navbar-brand" href="index.html">
                <i class="fas fa-brain"></i> AI彩票预测系统 V4.0
            </a>
            <div class="navbar-nav ms-auto">
                <a class="nav-link" href="index.html">返回首页</a>
                <a class="nav-link" href="user-guide.html">用户指南</a>
                <a class="nav-link" href="dev-guide.html">开发指南</a>
            </div>
        </div>
    </nav>

    <div class="container-fluid content-section">
        <div class="row">
            <!-- 侧边栏 -->
            <div class="col-lg-3">
                <div class="sidebar">
                    <div class="card">
                        <div class="card-header bg-primary text-white">
                            <h6 class="mb-0"><i class="fas fa-code"></i> API目录</h6>
                        </div>
                        <div class="card-body p-0">
                            <nav class="nav nav-pills flex-column">
                                <a class="nav-link" href="#overview">API概述</a>
                                <a class="nav-link" href="#authentication">认证</a>
                                <a class="nav-link" href="#prediction-api">预测API</a>
                                <a class="nav-link" href="#analysis-api">分析API</a>
                                <a class="nav-link" href="#streaming-api">流处理API</a>
                                <a class="nav-link" href="#visualization-api">可视化API</a>
                                <a class="nav-link" href="#quantum-api">量子计算API</a>
                                <a class="nav-link" href="#ai-assistant-api">AI助手API</a>
                                <a class="nav-link" href="#websocket-api">WebSocket API</a>
                                <a class="nav-link" href="#error-handling">错误处理</a>
                            </nav>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 主内容 -->
            <div class="col-lg-9">
                <div class="card shadow">
                    <div class="card-body p-5">
                        <h1 class="mb-4">📋 API文档</h1>
                        <div class="alert alert-warning mb-4">
                            <h5><i class="fas fa-construction"></i> 开发中</h5>
                            <p class="mb-0">API接口正在开发中，文档内容仅供参考。实际接口可能与文档描述有所差异，请以最新版本为准。</p>
                        </div>
                        <p class="lead">AI彩票预测系统V4.0计划提供完整的RESTful API和WebSocket接口，支持所有核心功能的编程访问。</p>

                        <!-- API概述 -->
                        <section id="overview" class="mb-5">
                            <h2><i class="fas fa-info-circle text-primary"></i> API概述</h2>
                            
                            <div class="row">
                                <div class="col-md-6">
                                    <h4>基础信息 <span class="badge bg-warning">开发中</span></h4>
                                    <ul>
                                        <li><strong>Base URL:</strong> <code>http://localhost:8000/api/v1</code> <small class="text-muted">(计划)</small></li>
                                        <li><strong>数据格式:</strong> JSON</li>
                                        <li><strong>字符编码:</strong> UTF-8</li>
                                        <li><strong>HTTP状态码:</strong> 标准HTTP状态码</li>
                                    </ul>
                                </div>
                                <div class="col-md-6">
                                    <h4>支持的HTTP方法</h4>
                                    <ul>
                                        <li><span class="api-method method-get">GET</span> 获取资源</li>
                                        <li><span class="api-method method-post">POST</span> 创建资源</li>
                                        <li><span class="api-method method-put">PUT</span> 更新资源</li>
                                        <li><span class="api-method method-delete">DELETE</span> 删除资源</li>
                                    </ul>
                                </div>
                            </div>

                            <h4>请求头</h4>
                            <div class="code-block">
                                <pre><code>Content-Type: application/json
Accept: application/json
Authorization: Bearer &lt;token&gt; (如果需要认证)</code></pre>
                            </div>
                        </section>

                        <!-- 认证 -->
                        <section id="authentication" class="mb-5">
                            <h2><i class="fas fa-lock text-primary"></i> 认证 <span class="badge bg-warning">开发中</span></h2>
                            
                            <p>系统计划支持多种认证方式：</p>
                            
                            <div class="endpoint-card">
                                <div class="endpoint-header">
                                    <h5><span class="api-method method-post">POST</span> /auth/login</h5>
                                    <p class="mb-0">用户登录获取访问令牌</p>
                                </div>
                                <div class="endpoint-body">
                                    <h6>请求参数</h6>
                                    <div class="code-block">
                                        <pre><code>{
  "username": "string",
  "password": "string"
}</code></pre>
                                    </div>
                                    
                                    <h6>响应示例</h6>
                                    <div class="response-example">
                                        <pre><code>{
  "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "token_type": "Bearer",
  "expires_in": 3600,
  "user_info": {
    "username": "user123",
    "role": "user"
  }
}</code></pre>
                                    </div>
                                </div>
                            </div>
                        </section>

                        <!-- 预测API -->
                        <section id="prediction-api" class="mb-5">
                            <h2><i class="fas fa-chart-line text-primary"></i> 预测API <span class="badge bg-warning">开发中</span></h2>
                            
                            <div class="endpoint-card">
                                <div class="endpoint-header">
                                    <h5><span class="api-method method-post">POST</span> /predict</h5>
                                    <p class="mb-0">生成彩票号码预测</p>
                                </div>
                                <div class="endpoint-body">
                                    <h6>请求参数</h6>
                                    <table class="table table-sm parameter-table">
                                        <thead>
                                            <tr>
                                                <th>参数</th>
                                                <th>类型</th>
                                                <th>必填</th>
                                                <th>说明</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>lottery_type</td>
                                                <td>string</td>
                                                <td>是</td>
                                                <td>彩票类型：'双色球', '大乐透'</td>
                                            </tr>
                                            <tr>
                                                <td>model</td>
                                                <td>string</td>
                                                <td>否</td>
                                                <td>预测模型：'auto', 'random_forest', 'xgboost', 'lstm', 'quantum'</td>
                                            </tr>
                                            <tr>
                                                <td>periods</td>
                                                <td>integer</td>
                                                <td>否</td>
                                                <td>历史数据期数，默认30</td>
                                            </tr>
                                        </tbody>
                                    </table>

                                    <h6>请求示例</h6>
                                    <div class="code-block">
                                        <pre><code>{
  "lottery_type": "双色球",
  "model": "auto",
  "periods": 50
}</code></pre>
                                    </div>
                                    
                                    <h6>响应示例</h6>
                                    <div class="response-example">
                                        <pre><code>{
  "success": true,
  "data": {
    "lottery_type": "双色球",
    "predicted_numbers": {
      "red": [7, 12, 18, 25, 28, 33],
      "blue": [8]
    },
    "confidence": 0.875,
    "model_used": "ensemble",
    "prediction_time": "2025-08-12T16:30:00Z"
  },
  "message": "预测成功"
}</code></pre>
                                    </div>
                                </div>
                            </div>

                            <div class="endpoint-card">
                                <div class="endpoint-header">
                                    <h5><span class="api-method method-get">GET</span> /predict/history</h5>
                                    <p class="mb-0">获取预测历史记录</p>
                                </div>
                                <div class="endpoint-body">
                                    <h6>查询参数</h6>
                                    <ul>
                                        <li><code>limit</code> (integer): 返回记录数量，默认10</li>
                                        <li><code>offset</code> (integer): 偏移量，默认0</li>
                                        <li><code>lottery_type</code> (string): 彩票类型过滤</li>
                                    </ul>

                                    <h6>响应示例</h6>
                                    <div class="response-example">
                                        <pre><code>{
  "success": true,
  "data": {
    "predictions": [
      {
        "id": 1,
        "lottery_type": "双色球",
        "predicted_numbers": {
          "red": [1, 7, 12, 18, 25, 33],
          "blue": [8]
        },
        "confidence": 0.82,
        "created_at": "2025-08-12T16:00:00Z"
      }
    ],
    "total": 1,
    "limit": 10,
    "offset": 0
  }
}</code></pre>
                                    </div>
                                </div>
                            </div>
                        </section>

                        <!-- 分析API -->
                        <section id="analysis-api" class="mb-5">
                            <h2><i class="fas fa-chart-bar text-primary"></i> 分析API <span class="badge bg-warning">开发中</span></h2>
                            
                            <div class="endpoint-card">
                                <div class="endpoint-header">
                                    <h5><span class="api-method method-post">POST</span> /analysis/frequency</h5>
                                    <p class="mb-0">号码频率分析</p>
                                </div>
                                <div class="endpoint-body">
                                    <h6>请求参数</h6>
                                    <div class="code-block">
                                        <pre><code>{
  "lottery_type": "双色球",
  "periods": 100,
  "analysis_type": "frequency"
}</code></pre>
                                    </div>
                                    
                                    <h6>响应示例</h6>
                                    <div class="response-example">
                                        <pre><code>{
  "success": true,
  "data": {
    "hot_numbers": [1, 7, 12, 18, 25, 33],
    "cold_numbers": [3, 9, 15, 21, 27, 31],
    "frequency_data": {
      "1": 15,
      "7": 18,
      "12": 22,
      ...
    },
    "analysis_time": "2025-08-12T16:30:00Z"
  }
}</code></pre>
                                    </div>
                                </div>
                            </div>

                            <div class="endpoint-card">
                                <div class="endpoint-header">
                                    <h5><span class="api-method method-post">POST</span> /analysis/trend</h5>
                                    <p class="mb-0">趋势分析</p>
                                </div>
                                <div class="endpoint-body">
                                    <h6>请求参数</h6>
                                    <div class="code-block">
                                        <pre><code>{
  "lottery_type": "双色球",
  "periods": 50,
  "analysis_type": "trend"
}</code></pre>
                                    </div>
                                    
                                    <h6>响应示例</h6>
                                    <div class="response-example">
                                        <pre><code>{
  "success": true,
  "data": {
    "trend_direction": "rising",
    "volatility": "medium",
    "cycle_pattern": {
      "detected": true,
      "cycle_length": 7
    },
    "trend_data": [
      {"period": "2025001", "sum": 145},
      {"period": "2025002", "sum": 152},
      ...
    ]
  }
}</code></pre>
                                    </div>
                                </div>
                            </div>
                        </section>

                        <!-- 流处理API -->
                        <section id="streaming-api" class="mb-5">
                            <h2><i class="fas fa-stream text-primary"></i> 实时流处理API <span class="badge bg-warning">开发中</span></h2>
                            
                            <div class="endpoint-card">
                                <div class="endpoint-header">
                                    <h5><span class="api-method method-post">POST</span> /stream/event</h5>
                                    <p class="mb-0">发送流事件</p>
                                </div>
                                <div class="endpoint-body">
                                    <h6>请求参数</h6>
                                    <div class="code-block">
                                        <pre><code>{
  "event_type": "data_arrival",
  "data": {
    "period": "2025001",
    "numbers": {
      "red": [1, 7, 12, 18, 25, 33],
      "blue": [8]
    }
  },
  "source": "data_collector"
}</code></pre>
                                    </div>
                                    
                                    <h6>响应示例</h6>
                                    <div class="response-example">
                                        <pre><code>{
  "success": true,
  "data": {
    "event_id": "evt_12345",
    "processed": true,
    "processing_time": 0.025
  }
}</code></pre>
                                    </div>
                                </div>
                            </div>

                            <div class="endpoint-card">
                                <div class="endpoint-header">
                                    <h5><span class="api-method method-get">GET</span> /stream/stats</h5>
                                    <p class="mb-0">获取流处理统计信息</p>
                                </div>
                                <div class="endpoint-body">
                                    <h6>响应示例</h6>
                                    <div class="response-example">
                                        <pre><code>{
  "success": true,
  "data": {
    "system": {
      "running": true,
      "uptime_seconds": 3600,
      "processing_rate": 1250.5,
      "total_processed": 45000,
      "total_failed": 12
    },
    "buffer": {
      "total_events": 150,
      "buffer_utilization": 0.15
    }
  }
}</code></pre>
                                    </div>
                                </div>
                            </div>
                        </section>

                        <!-- 可视化API -->
                        <section id="visualization-api" class="mb-5">
                            <h2><i class="fas fa-chart-pie text-primary"></i> 可视化API <span class="badge bg-warning">开发中</span></h2>
                            
                            <div class="endpoint-card">
                                <div class="endpoint-header">
                                    <h5><span class="api-method method-post">POST</span> /visualization/chart</h5>
                                    <p class="mb-0">创建图表</p>
                                </div>
                                <div class="endpoint-body">
                                    <h6>请求参数</h6>
                                    <div class="code-block">
                                        <pre><code>{
  "chart_type": "scatter_3d",
  "chart_id": "trend_analysis",
  "data": {
    "history_data": [...]
  },
  "config": {
    "title": "双色球3D趋势分析",
    "theme": "default"
  }
}</code></pre>
                                    </div>
                                    
                                    <h6>响应示例</h6>
                                    <div class="response-example">
                                        <pre><code>{
  "success": true,
  "data": {
    "chart_id": "trend_analysis",
    "chart_url": "/charts/trend_analysis.html",
    "preview_url": "/charts/trend_analysis_preview.png",
    "created_at": "2025-08-12T16:30:00Z"
  }
}</code></pre>
                                    </div>
                                </div>
                            </div>

                            <div class="endpoint-card">
                                <div class="endpoint-header">
                                    <h5><span class="api-method method-get">GET</span> /visualization/charts</h5>
                                    <p class="mb-0">获取图表列表</p>
                                </div>
                                <div class="endpoint-body">
                                    <h6>响应示例</h6>
                                    <div class="response-example">
                                        <pre><code>{
  "success": true,
  "data": {
    "charts": [
      {
        "chart_id": "trend_analysis",
        "chart_type": "scatter_3d",
        "title": "双色球3D趋势分析",
        "created_at": "2025-08-12T16:30:00Z"
      }
    ],
    "total": 1
  }
}</code></pre>
                                    </div>
                                </div>
                            </div>
                        </section>

                        <!-- 量子计算API -->
                        <section id="quantum-api" class="mb-5">
                            <h2><i class="fas fa-atom text-primary"></i> 量子计算API <span class="badge bg-warning">开发中</span></h2>
                            
                            <div class="endpoint-card">
                                <div class="endpoint-header">
                                    <h5><span class="api-method method-post">POST</span> /quantum/optimize</h5>
                                    <p class="mb-0">量子优化预测</p>
                                </div>
                                <div class="endpoint-body">
                                    <h6>请求参数</h6>
                                    <div class="code-block">
                                        <pre><code>{
  "algorithm": "qaoa",
  "historical_data": [...],
  "num_selections": 6,
  "options": {
    "p_layers": 2,
    "max_iterations": 50
  }
}</code></pre>
                                    </div>
                                    
                                    <h6>响应示例</h6>
                                    <div class="response-example">
                                        <pre><code>{
  "success": true,
  "data": {
    "selected_numbers": [2, 4, 5, 6, 7, 8],
    "confidence": 0.89,
    "quantum_advantage": true,
    "algorithm": "QAOA",
    "execution_time": 1.25,
    "quantum_cost": 24
  }
}</code></pre>
                                    </div>
                                </div>
                            </div>

                            <div class="endpoint-card">
                                <div class="endpoint-header">
                                    <h5><span class="api-method method-get">GET</span> /quantum/capabilities</h5>
                                    <p class="mb-0">获取量子计算能力</p>
                                </div>
                                <div class="endpoint-body">
                                    <h6>响应示例</h6>
                                    <div class="response-example">
                                        <pre><code>{
  "success": true,
  "data": {
    "qiskit_available": true,
    "supported_algorithms": ["qaoa", "vqe", "grover", "quantum_annealing"],
    "max_qubits": 12,
    "quantum_backends": ["simulator", "qasm_simulator"]
  }
}</code></pre>
                                    </div>
                                </div>
                            </div>
                        </section>

                        <!-- AI助手API -->
                        <section id="ai-assistant-api" class="mb-5">
                            <h2><i class="fas fa-robot text-primary"></i> AI助手API <span class="badge bg-warning">开发中</span></h2>
                            
                            <div class="endpoint-card">
                                <div class="endpoint-header">
                                    <h5><span class="api-method method-post">POST</span> /assistant/chat</h5>
                                    <p class="mb-0">与AI助手对话</p>
                                </div>
                                <div class="endpoint-body">
                                    <h6>请求参数</h6>
                                    <div class="code-block">
                                        <pre><code>{
  "message": "预测双色球下期号码",
  "session_id": "session_123",
  "context": {
    "user_preferences": {...}
  }
}</code></pre>
                                    </div>
                                    
                                    <h6>响应示例</h6>
                                    <div class="response-example">
                                        <pre><code>{
  "success": true,
  "data": {
    "response": "我来为您进行预测分析...",
    "response_type": "mixed",
    "confidence": 0.95,
    "intent": "prediction_request",
    "data": {
      "predicted_numbers": {...}
    }
  }
}</code></pre>
                                    </div>
                                </div>
                            </div>

                            <div class="endpoint-card">
                                <div class="endpoint-header">
                                    <h5><span class="api-method method-get">GET</span> /assistant/history/{session_id}</h5>
                                    <p class="mb-0">获取对话历史</p>
                                </div>
                                <div class="endpoint-body">
                                    <h6>响应示例</h6>
                                    <div class="response-example">
                                        <pre><code>{
  "success": true,
  "data": {
    "messages": [
      {
        "role": "user",
        "content": "预测双色球下期号码",
        "timestamp": "2025-08-12T16:30:00Z"
      },
      {
        "role": "assistant",
        "content": "我来为您进行预测分析...",
        "timestamp": "2025-08-12T16:30:01Z"
      }
    ],
    "total": 2
  }
}</code></pre>
                                    </div>
                                </div>
                            </div>
                        </section>

                        <!-- WebSocket API -->
                        <section id="websocket-api" class="mb-5">
                            <h2><i class="fas fa-plug text-primary"></i> WebSocket API <span class="badge bg-warning">开发中</span></h2>
                            
                            <p>WebSocket连接地址：<code>ws://localhost:8765</code> <small class="text-muted">(计划)</small></p>
                            
                            <h4>连接示例</h4>
                            <div class="code-block">
                                <pre><code>// JavaScript
const ws = new WebSocket('ws://localhost:8765');

ws.onopen = function(event) {
    console.log('WebSocket连接已建立');
};

ws.onmessage = function(event) {
    const data = JSON.parse(event.data);
    console.log('收到实时数据:', data);
};

// Python
import websockets
import asyncio

async def client():
    uri = "ws://localhost:8765"
    async with websockets.connect(uri) as websocket:
        while True:
            data = await websocket.recv()
            print(f"收到数据: {data}")</code></pre>
                            </div>

                            <h4>消息格式</h4>
                            <div class="response-example">
                                <pre><code>{
  "event_id": "evt_12345",
  "event_type": "data_arrival",
  "timestamp": 1692709800.123,
  "data": {
    "period": "2025001",
    "numbers": {
      "red": [1, 7, 12, 18, 25, 33],
      "blue": [8]
    }
  },
  "source": "realtime_analyzer"
}</code></pre>
                            </div>
                        </section>

                        <!-- 错误处理 -->
                        <section id="error-handling" class="mb-5">
                            <h2><i class="fas fa-exclamation-triangle text-primary"></i> 错误处理</h2>
                            
                            <h4>HTTP状态码</h4>
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>状态码</th>
                                        <th>说明</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr><td>200</td><td>请求成功</td></tr>
                                    <tr><td>201</td><td>资源创建成功</td></tr>
                                    <tr><td>400</td><td>请求参数错误</td></tr>
                                    <tr><td>401</td><td>未授权</td></tr>
                                    <tr><td>403</td><td>禁止访问</td></tr>
                                    <tr><td>404</td><td>资源不存在</td></tr>
                                    <tr><td>429</td><td>请求频率限制</td></tr>
                                    <tr><td>500</td><td>服务器内部错误</td></tr>
                                </tbody>
                            </table>

                            <h4>错误响应格式</h4>
                            <div class="response-example">
                                <pre><code>{
  "success": false,
  "error": {
    "code": "INVALID_PARAMETER",
    "message": "参数 'lottery_type' 不能为空",
    "details": {
      "field": "lottery_type",
      "value": null
    }
  },
  "request_id": "req_12345"
}</code></pre>
                            </div>

                            <h4>常见错误代码</h4>
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>错误代码</th>
                                        <th>说明</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr><td>INVALID_PARAMETER</td><td>参数无效</td></tr>
                                    <tr><td>MISSING_PARAMETER</td><td>缺少必需参数</td></tr>
                                    <tr><td>UNAUTHORIZED</td><td>认证失败</td></tr>
                                    <tr><td>RATE_LIMIT_EXCEEDED</td><td>超出频率限制</td></tr>
                                    <tr><td>INTERNAL_ERROR</td><td>服务器内部错误</td></tr>
                                    <tr><td>SERVICE_UNAVAILABLE</td><td>服务不可用</td></tr>
                                </tbody>
                            </table>
                        </section>

                        <!-- SDK和示例 -->
                        <div class="alert alert-info">
                            <h5><i class="fas fa-code"></i> SDK和示例代码 <span class="badge bg-warning">开发中</span></h5>
                            <p class="mb-2">我们计划提供多种编程语言的SDK和示例代码：</p>
                            <ul class="mb-0">
                                <li><strong>Python SDK：</strong> <code>pip install ai-lottery-predictor-sdk</code> <small class="text-muted">(计划)</small></li>
                                <li><strong>JavaScript SDK：</strong> <code>npm install ai-lottery-predictor-js</code> <small class="text-muted">(计划)</small></li>
                                <li><strong>示例代码：</strong> <a href="https://github.com/pe0ny9-a/AI-Lottery-Predictor/tree/main/examples" target="_blank">GitHub Examples</a> <small class="text-muted">(开发中)</small></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    
    <script>
        // 平滑滚动和侧边栏高亮
        document.querySelectorAll('.sidebar .nav-link').forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth' });
                    
                    document.querySelectorAll('.sidebar .nav-link').forEach(l => l.classList.remove('active'));
                    this.classList.add('active');
                }
            });
        });

        // 滚动监听
        window.addEventListener('scroll', () => {
            const sections = document.querySelectorAll('section[id]');
            const navLinks = document.querySelectorAll('.sidebar .nav-link');
            
            let current = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                if (window.scrollY >= sectionTop - 200) {
                    current = section.getAttribute('id');
                }
            });

            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === '#' + current) {
                    link.classList.add('active');
                }
            });
        });
    </script>
</body>
</html>
